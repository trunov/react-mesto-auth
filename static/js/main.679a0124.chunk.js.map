{"version":3,"sources":["images/header-logo.svg","components/ProtectedRoute.js","components/Header.js","components/Footer.js","components/Login.js","components/Register.js","contexts/CurrentUserContext.js","components/Card.js","components/Main.js","components/PopupWithForm.js","components/AddPlacePopup.js","components/ImagePopup.js","components/EditProfilePopup.js","components/EditAvatarPopup.js","components/svg/Ok.js","components/svg/Error.js","components/InfoToolTip.js","api/Auth.js","api/Api.js","components/App.js","index.js"],"names":["module","exports","ProtectedRoute","Component","component","props","loggedIn","to","Header","email","handleLogout","className","src","logo","alt","exact","path","onClick","Footer","Login","handleLogin","useState","password","message","data","setData","handleChange","e","target","name","value","onSubmit","preventDefault","id","required","type","onChange","placeholder","Register","handleRegister","console","log","CurrentUserContext","React","createContext","Card","title","likes","owner","onCardClick","onCardLike","onCardDelete","currentUser","useContext","card","_id","link","isOwn","isLiked","some","i","deleteButton","likeButton","length","Main","onEditProfile","onAddPlace","onEditAvatar","cards","style","backgroundImage","avatar","about","map","item","key","PopupWithForm","buttonTitle","children","isOpen","onClose","aria-label","action","noValidate","AddPlacePopup","setName","setLink","minLength","maxLength","autoComplete","ImagePopup","EditProfilePopup","onUpdateUser","description","setDescription","useEffect","EditAvatarPopup","onUpdateAvatar","avatarRef","useRef","current","ref","Ok","width","height","fill","xmlns","fillRule","clipRule","d","Error","InfoToolTip","icon","BASE_URL","checkResponse","response","ok","json","Promise","reject","status","getContent","token","fetch","method","headers","then","api","options","this","_url","url","_authorization","authorization","_contentType","res","body","JSON","stringify","cardId","App","isProfilePopupOpen","setIsProfilePopupOpen","isPlacePopupOpen","setIsPlacePopupOpen","isAvatarPopupOpen","setIsAvatarPopupOpen","isPopupInfo","setIsPopupInfo","selectedCard","setSelectedCard","infoData","setInfoData","userData","setUserData","setLoggedIn","history","useHistory","push","setCurrentUser","setCards","handleInfo","tokenCheck","handleResponse","auth","catch","err","localStorage","setItem","getItem","closeAllPopups","promises","getUserInfo","getInitialCards","all","results","setupCards","Provider","removeItem","changeLikeCardStatus","newCard","newCards","c","deleteCard","filter","editProfile","result","addNewCard","editAvatar","ReactDOM","render","StrictMode","document","getElementById"],"mappings":"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","file":"static/js/main.679a0124.chunk.js","sourcesContent":["module.exports = __webpack_public_path__ + \"static/media/header-logo.c6f11019.svg\";","import React from 'react';\nimport { Route, Redirect } from \"react-router-dom\";\n\nconst ProtectedRoute = ({ component: Component, ...props  }) => {\n  return (\n    <Route>\n      {\n        () => props.loggedIn === true ? <Component {...props} /> : <Redirect to=\"./sign-in\" />\n      }\n    </Route>\n)}\n\nexport default ProtectedRoute;","import React from \"react\";\nimport { Route, Switch, Link } from \"react-router-dom\";\nimport logo from \"../images/header-logo.svg\";\n\nfunction Header({ email, handleLogout }) {\n  return (\n    <header className=\"header\">\n      <img src={logo} alt=\"логотип\" className=\"header__logo\" />\n      <Switch>\n        <Route exact path=\"/\">\n          <div className=\"header__wrap\">\n            <p className=\"header__email\">{email}</p>\n            <Link\n              to=\"/sign-in\"\n              onClick={handleLogout}\n              className=\"header__paragraph\"\n            >\n              Выйти\n            </Link>\n          </div>\n        </Route>\n        <Route path=\"/sign-in\">\n          <Link to=\"/sign-up\" className=\"header__paragraph \">\n            {\" \"}\n            Зарегистрироваться\n          </Link>\n        </Route>\n        <Route path=\"/sign-up\">\n          <Link to=\"/sign-in\" className=\"header__paragraph \">\n            {\" \"}\n            Войти\n          </Link>\n        </Route>\n      </Switch>\n    </header>\n  );\n}\n\nexport default Header;\n","import React from \"react\";\n\nfunction Footer() {\n  return (\n    <footer className=\"footer\">\n      <p className=\"footer__copyright\">&copy; 2020. Трунов Кирилл</p>\n    </footer>\n  );\n}\n\nexport default Footer;","import React, { useState } from \"react\";\n\nconst Login = ({ handleLogin }) => {\n  const [data, setData] = useState({\n    email: \"\",\n    password: \"\",\n    message: \"\",\n  });\n\n  const handleChange = (e) => {\n    const { name, value } = e.target;\n    setData({\n      ...data,\n      [name]: value,\n    });\n  };\n\n  const handleSubmit = (e) => {\n    e.preventDefault();\n    let { email, password } = data;\n    handleLogin(email, password);\n  };\n\n  return (\n    <div onSubmit={handleSubmit} className=\"login\">\n      <h2 className=\"login__header\">Вход</h2>\n      <form className=\"login__form\">\n        <input\n          className=\"login__form__input\"\n          id=\"email\"\n          required\n          name=\"email\"\n          type=\"text\"\n          value={data.email}\n          onChange={handleChange}\n          placeholder=\"E-mail\"\n        />\n\n        <input\n          className=\"login__form__input\"\n          id=\"password\"\n          required\n          name=\"password\"\n          type=\"password\"\n          value={data.password}\n          onChange={handleChange}\n          placeholder=\"Пароль\"\n        />\n\n        <button type=\"submit\" className=\"login__button\">\n          Войти\n        </button>\n      </form>\n    </div>\n  );\n};\n\nexport default Login;\n","import React, { useState } from \"react\";\nimport { Link } from \"react-router-dom\";\n\n\nconst Register = ({ handleRegister }) => {\n  const [data, setData] = useState({\n    email: \"\",\n    password: \"\",\n    message: \"\",\n  });\n\n  const handleChange = (e) => {\n    const { name, value } = e.target;\n    setData({\n      ...data,\n      [name]: value,\n    });\n  };\n\n  const handleSubmit = (e) => {\n    e.preventDefault();\n    if (!data.email) {\n      console.log(\"email не введен\");\n      return;\n    }\n    if (!data.password) {\n      console.log(\"пароль не введен\");\n      return;\n    }\n    let { email, password } = data;\n    handleRegister(password, email);\n    setData({ email: \"\", password: \"\" });\n  };\n\n  return (\n    <div className=\"register\">\n      <h2 className=\"register__header\">Регистрация</h2>\n\n      <form onSubmit={handleSubmit} className=\"register__form\">\n        <input\n          className=\"register__form__input\"\n          id=\"email\"\n          name=\"email\"\n          type=\"email\"\n          value={data.email}\n          onChange={handleChange}\n          placeholder=\"E-mail\"\n        />\n\n        <input\n          className=\"register__form__input\"\n          id=\"password\"\n          name=\"password\"\n          type=\"password\"\n          value={data.password}\n          onChange={handleChange}\n          placeholder=\"Пароль\"\n        />\n\n        <button type=\"submit\" className=\"register__button\">\n          Зарегистрироваться\n        </button>\n      </form>\n\n      <p className=\"register__paragraph\">\n        Уже зарегистрированы?{\" \"}\n        <Link to=\"sign-in\" className=\"register__login-link\">\n          Войти\n        </Link>\n      </p>\n    </div>\n  );\n};\n\nexport default Register;\n","import React from 'react';\n\nexport const CurrentUserContext = React.createContext();\n","import React from \"react\";\nimport { CurrentUserContext } from \"../contexts/CurrentUserContext\";\n\nfunction Card({\n  src,\n  alt,\n  title,\n  likes,\n  owner,\n  id,\n  onCardClick,\n  onCardLike,\n  onCardDelete,\n}) {\n  const currentUser = React.useContext(CurrentUserContext);\n\n  const card = {\n    _id: id,\n    link: src,\n    name: title,\n    owner: owner,\n    likes: likes,\n  };\n\n  const isOwn = card.owner._id === currentUser._id;\n  const isLiked = card.likes.some((i) => i._id === currentUser._id);\n\n  const deleteButton = `cards__element-remove ${\n    isOwn ? \"\" : \"cards__element-remove_hidden\"\n  }`;\n  const likeButton = `cards__element-button ${\n    isLiked ? \"cards__element-button_active\" : \"\"\n  }`;\n\n  function handleClick() {\n    onCardClick({ link: src, name: title });\n  }\n\n  function handleLike() {\n    onCardLike(card);\n  }\n\n  function handleDelete() {\n    onCardDelete(card);\n  }\n\n  return (\n    <li className=\"cards__element\">\n      <img\n        className=\"cards__element-img\"\n        src={src}\n        alt={alt}\n        onClick={handleClick}\n      />\n      <button\n        className={deleteButton}\n        type=\"button\"\n        title=\"Удалить\"\n        onClick={handleDelete}\n      ></button>\n      <div className=\"cards__description\">\n        <h2 className=\"cards__element-title\">{title}</h2>\n        <div className=\"cards__element-wrap\">\n          <button\n            className={likeButton}\n            type=\"button\"\n            title=\"Нравится\"\n            onClick={handleLike}\n          ></button>\n          <p className=\"cards__element-like\">{likes.length}</p>\n        </div>\n      </div>\n    </li>\n  );\n}\n\nexport default Card;\n","import React from \"react\";\nimport Card from \"./Card\";\nimport { CurrentUserContext } from \"../contexts/CurrentUserContext\";\n\nfunction Main({ onEditProfile, onAddPlace, onEditAvatar, onCardClick, cards, onCardLike, onCardDelete }) {\n  const currentUser = React.useContext(CurrentUserContext);\n\n  return (\n    <main className=\"content\">\n      <section className=\"profile\">\n        <div\n          className=\"profile__avatar\"\n          onClick={onEditAvatar}\n          style={{ backgroundImage: `url(${currentUser.avatar})` }}\n        ></div>\n        <div className=\"profile__info\">\n          <h1 className=\"profile__name\">{currentUser.name}</h1>\n          <button\n            className=\"profile__edit-button\"\n            type=\"button\"\n            onClick={onEditProfile}\n          ></button>\n          <p className=\"profile__description\">{currentUser.about}</p>\n        </div>\n        <button\n          className=\"profile__add-button\"\n          type=\"button\"\n          onClick={onAddPlace}\n        ></button>\n      </section>\n\n      <section className=\"cards\">\n        <ul className=\"cards__container\">\n          {cards.map((item) => (\n            <Card\n              key={item._id}\n              id={item._id}\n              owner={item.owner}\n              src={item.link}\n              alt={item.alt}\n              title={item.name}\n              likes={item.likes}\n              onCardClick={onCardClick}\n              onCardLike={onCardLike}\n              onCardDelete={onCardDelete}\n            />\n          ))}\n        </ul>\n      </section>\n    </main>\n  );\n}\n\nexport default Main;","import React from \"react\";\n\nfunction PopupWithForm({\n  name,\n  title,\n  buttonTitle,\n  children,\n  isOpen,\n  onClose,\n  onSubmit,\n}) {\n  return (\n    <div className={`popup popup-${name} ${isOpen && \"popup_open\"}`}>\n      <div className=\"popup__container\">\n        <button\n          aria-label=\"Закрыть\"\n          type=\"button\"\n          className=\"popup__close-button\"\n          onClick={onClose}\n        ></button>\n        <h2 className=\"popup__title\">{title}</h2>\n\n        <form\n          action=\"#\"\n          name=\"popup-form\"\n          className={`popup__form popup-${name}__form`}\n          noValidate\n          onSubmit={onSubmit}\n        >\n          <fieldset className=\"popup__input-container\">\n            {children}\n            <button type=\"submit\" className=\"popup__submit-button\">\n              {buttonTitle}\n            </button>\n          </fieldset>\n        </form>\n      </div>\n    </div>\n  );\n}\n\nexport default PopupWithForm;\n","import React from \"react\";\nimport PopupWithForm from \"./PopupWithForm\";\n\nfunction AddPlacePopup({ isOpen, onClose, onAddPlace }) {\n  const [name, setName] = React.useState(\"\");\n  const [link, setLink] = React.useState(\"\");\n\n  function handleNameChange(e) {\n    setName(e.target.value);\n  }\n\n  function handleLinkChange(e) {\n    setLink(e.target.value);\n  }\n\n  function handleSubmit(e) {\n    e.preventDefault();\n    onAddPlace({\n      name,\n      link\n    });\n  }\n\n  return (\n    <PopupWithForm\n      name={\"image\"}\n      title={\"Новое место\"}\n      buttonTitle={\"Сохранить\"}\n      isOpen={isOpen}\n      onClose={onClose}\n      onSubmit={handleSubmit}\n    >\n      <input\n        required\n        minLength=\"1\"\n        maxLength=\"30\"\n        autoComplete=\"off\"\n        name=\"title\"\n        type=\"text\"\n        placeholder=\"Название\"\n        className=\"popup__text popup__text_type_title\"\n        value={name || \"\"}\n        onChange={handleNameChange}\n      />\n      <span className=\"popup__error\" id=\"title-error\"></span>\n      <input\n        required\n        autoComplete=\"off\"\n        name=\"link\"\n        type=\"url\"\n        placeholder=\"Ссылка на картинку\"\n        className=\"popup__text popup__text_type_link\"\n        value={link || \"\"}\n        onChange={handleLinkChange}\n      />\n      <span className=\"popup__error\" id=\"link-error\"></span>\n    </PopupWithForm>\n  );\n}\n\nexport default AddPlacePopup;\n","import React from \"react\";\n\nfunction ImagePopup({ link, alt, title, isOpen, onClose }) {\n  return (\n    <div className={`popup popup-photo ${isOpen && \"popup_open\"}`}>\n      <div className=\"popup__photo-container\">\n        <button\n          aria-label=\"кнопка закрыть\"\n          type=\"button\"\n          className=\"popup__close-button\"\n          onClick={onClose}\n        ></button>\n        <img className=\"popup__img\" src={link} alt={alt} />\n        <h2 className=\"popup__title-photo\">{title}</h2>\n      </div>\n    </div>\n  );\n}\n\nexport default ImagePopup;\n","import React from \"react\";\nimport PopupWithForm from \"./PopupWithForm\";\nimport { CurrentUserContext } from \"../contexts/CurrentUserContext\";\n\nfunction EditProfilePopup({ isOpen, onClose, onUpdateUser }) {\n  const [name, setName] = React.useState(\"\");\n  const [description, setDescription] = React.useState(\"\");\n  const currentUser = React.useContext(CurrentUserContext);\n\n  function handleNameChange(e) {\n    setName(e.target.value);\n  }\n\n  function handleDescriptionChange(e) {\n    setDescription(e.target.value);\n  }\n\n  function handleSubmit(e) {\n    e.preventDefault();\n\n    onUpdateUser({\n      name,\n      description,\n    });\n  }\n\n  React.useEffect(() => {\n    setName(currentUser.name);\n    setDescription(currentUser.about);\n  }, [currentUser]);\n\n  return (\n    <PopupWithForm\n      name={\"edit\"}\n      title={\"Редактировать профиль\"}\n      buttonTitle={\"Сохранить\"}\n      isOpen={isOpen}\n      onClose={onClose}\n      onSubmit={handleSubmit}\n    >\n      <input\n        required\n        minLength=\"2\"\n        maxLength=\"40\"\n        autoComplete=\"off\"\n        name=\"name\"\n        type=\"text\"\n        placeholder=\"Жак-Ив Кусто\"\n        className=\"popup__text popup__text_type_name\"\n        value={name || \"\"}\n        onChange={handleNameChange}\n      />\n      <span className=\"popup__error\" id=\"name-error\"></span>\n      <input\n        required\n        minLength=\"2\"\n        maxLength=\"200\"\n        autoComplete=\"off\"\n        name=\"description\"\n        type=\"text\"\n        placeholder=\"Исследователь океана\"\n        className=\"popup__text popup__text_type_description\"\n        value={description || \"\"}\n        onChange={handleDescriptionChange}\n      />\n      <span className=\"popup__error\" id=\"description-error\"></span>\n    </PopupWithForm>\n  );\n}\n\nexport default EditProfilePopup;\n","import React from \"react\";\nimport PopupWithForm from \"./PopupWithForm\";\n\nfunction EditAvatarPopup({ isOpen, onClose, onUpdateAvatar }) {\n  const avatarRef = React.useRef();\n\n  function handleSubmit(e) {\n    e.preventDefault();\n\n    onUpdateAvatar({\n      link: avatarRef.current.value,\n    });\n  }\n\n  return (\n    <PopupWithForm\n      name={\"avatar\"}\n      title={\"Обновить аватар\"}\n      buttonTitle={\"Сохранить\"}\n      isOpen={isOpen}\n      onClose={onClose}\n      onSubmit={handleSubmit}\n    >\n      <input\n        required\n        name=\"link\"\n        type=\"url\"\n        placeholder=\"Ссылка на картинку\"\n        className=\"popup__text popup__text_type_link\"\n        id=\"link-input\"\n        ref={avatarRef}\n      />\n      <span className=\"popup__error\" id=\"link-error\"></span>\n    </PopupWithForm>\n  );\n}\n\nexport default EditAvatarPopup;\n","import * as React from \"react\";\n\nfunction Ok(props) {\n  return (\n    <svg className=\"popup__icon\"\n      width={120}\n      height={120}\n      fill=\"none\"\n      xmlns=\"http://www.w3.org/2000/svg\"\n      {...props}\n    >\n      <path\n        fillRule=\"evenodd\"\n        clipRule=\"evenodd\"\n        d=\"M117 60c0 31.48-25.52 57-57 57S3 91.48 3 60 28.52 3 60 3s57 25.52 57 57zm3 0c0 33.137-26.863 60-60 60S0 93.137 0 60 26.863 0 60 0s60 26.863 60 60zM57.55 76.888l29.218-28-5.536-5.776L54.428 68.8 39.35 57.856l-4.7 6.474 17.783 12.907 2.705 1.963 2.412-2.312z\"\n        fill=\"#000\"\n      />\n    </svg>\n  );\n}\n\nexport default Ok;","import * as React from \"react\";\n\nfunction Error(props) {\n  return (\n    <svg className=\"popup__icon\"\n      width={120}\n      height={120}\n      fill=\"none\"\n      xmlns=\"http://www.w3.org/2000/svg\"\n      {...props}\n    >\n      <path\n        fillRule=\"evenodd\"\n        clipRule=\"evenodd\"\n        d=\"M60 117c31.48 0 57-25.52 57-57S91.48 3 60 3 3 28.52 3 60s25.52 57 57 57zm0 3c33.137 0 60-26.863 60-60S93.137 0 60 0 0 26.863 0 60s26.863 60 60 60zm-4.95-59.293L36.666 42.322l5.656-5.657L60.707 55.05l17.678-17.677 5.657 5.656-17.678 17.678 16.97 16.97-5.656 5.657-16.97-16.97-17.679 17.678-5.656-5.657L55.05 60.707z\"\n        fill=\"#FD0707\"\n      />\n    </svg>\n  );\n}\n\nexport default Error;","import React from \"react\";\nimport Ok from \"./svg/Ok\";\nimport Error from \"./svg/Error\";\n\nfunction InfoToolTip({ isOpen, onClose, title, icon }) {\n  \n  return (\n    <div className={`popup popup-info ${isOpen && \"popup_open\"}`}>\n      <div className=\"popup__container\">\n        <button\n          aria-label=\"Закрыть\"\n          type=\"button\"\n          className=\"popup__close-button\"\n          onClick={onClose}\n        ></button>\n        {icon ? <Ok /> : <Error /> }\n        <h2 className=\"popup__title popup__title_info\">{title}</h2>\n      </div>\n    </div>\n  );\n}\n\nexport default InfoToolTip;\n","export const BASE_URL = 'https://auth.nomoreparties.co';\n\nconst checkResponse = (response) => response.ok ? response.json() : Promise.reject(`Ошибка: ${response.status}`)\n\nexport const register = (password, email) => {\n  return fetch(`${BASE_URL}/signup`, {\n    method: 'POST',\n    headers: {\n      'Accept': 'application/json',\n      'Content-Type': 'application/json'\n    },\n    body: JSON.stringify({ password, email })\n  })\n  .then(checkResponse);\n  \n};\nexport const authorize = (email, password) => {\n  return fetch(`${BASE_URL}/signin`, {\n    method: 'POST',\n    headers: {\n      'Accept': 'application/json',\n      'Content-Type': 'application/json'\n    },\n    body: JSON.stringify({email, password})\n  })\n  .then(checkResponse)\n};\n\nexport const getContent = (token) => {\n  return fetch(`${BASE_URL}/users/me`, {\n    method: 'GET',\n    headers: {\n      'Accept': 'application/json',\n      'Content-Type': 'application/json',\n      'Authorization': `Bearer ${token}`,\n    }\n  })\n  .then(checkResponse)\n}\n\n\n","class Api {\n  constructor(options) {\n    this._url = options.url;\n    this._authorization = options.headers.authorization;\n    this._contentType = options.headers[\"Content-type\"];\n  }\n\n  getInitialCards() {\n    return fetch(`${this._url}/cards`, {\n      method: \"GET\",\n      headers: {\n        authorization: this._authorization,\n      },\n    }).then((res) => {\n      if (res.ok) {\n        return res.json();\n      }\n\n      return Promise.reject(`Ошибка: ${res.status}`);\n    });\n  }\n\n  addNewCard({ name, link }) {\n    return fetch(`${this._url}/cards`, {\n      method: \"POST\",\n      headers: {\n        authorization: this._authorization,\n        \"Content-Type\": this._contentType,\n      },\n      body: JSON.stringify({\n        name: name,\n        link: link,\n      }),\n    }).then((res) => {\n      if (res.ok) {\n        return res.json();\n      }\n\n      return Promise.reject(`Ошибка: ${res.status}`);\n    });\n  }\n\n  deleteCard(cardId) {\n    return fetch(`${this._url}/cards/${cardId}`, {\n      method: \"DELETE\",\n      headers: {\n        authorization: this._authorization,\n        \"Content-Type\": this._contentType,\n      },\n    }).then((res) => {\n      if (res.ok) {\n        return res.json();\n      }\n\n      return Promise.reject(`Ошибка: ${res.status}`);\n    });\n  }\n\n  changeLikeCardStatus(cardId, isLiked) {\n    return fetch(`${this._url}/cards/likes/${cardId}`, {\n      method: isLiked ? \"PUT\" : \"DELETE\",\n      headers: {\n        authorization: this._authorization,\n        \"Content-Type\": this._contentType,\n      },\n    }).then((res) => {\n      if (res.ok) {\n        return res.json();\n      }\n\n      return Promise.reject(`Ошибка: ${res.status}`);\n    });\n  }\n\n  getUserInfo() {\n    return fetch(`${this._url}/users/me`, {\n      method: \"GET\",\n      headers: {\n        authorization: this._authorization,\n      },\n    }).then((res) => {\n      if (res.ok) {\n        return res.json();\n      }\n\n      return Promise.reject(`Ошибка: ${res.status}`);\n    });\n  }\n\n  editProfile({ name, description }) {\n    return fetch(`${this._url}/users/me`, {\n      method: \"PATCH\",\n      headers: {\n        authorization: this._authorization,\n        \"Content-Type\": this._contentType,\n      },\n      body: JSON.stringify({\n        name: name,\n        about: description,\n      }),\n    }).then((res) => {\n      if (res.ok) {\n        return res.json();\n      }\n\n      return Promise.reject(`Ошибка: ${res.status}`);\n    });\n  }\n\n  editAvatar({ link }) {\n    return fetch(`${this._url}/users/me/avatar`, {\n      method: \"PATCH\",\n      headers: {\n        authorization: this._authorization,\n        \"Content-Type\": this._contentType,\n      },\n      body: JSON.stringify({\n        avatar: `${link}`,\n      }),\n    }).then((res) => {\n      if (res.ok) {\n        return res.json();\n      }\n\n      return Promise.reject(`Ошибка: ${res.status}`);\n    });\n  }\n}\n\nexport const api = new Api({\n  url: \"https://mesto.nomoreparties.co/v1/cohort-15\",\n  headers: {\n    authorization: \"ae4fa4cf-0e81-45c0-b4da-16ce9ece8f68\",\n    \"Content-type\": \"application/json\",\n  },\n});\n","import React, { useState } from \"react\";\nimport { Route, Switch, Redirect, useHistory } from \"react-router-dom\";\nimport ProtectedRoute from \"./ProtectedRoute\";\nimport Header from \"./Header\";\nimport Footer from \"./Footer\";\nimport Login from \"./Login\";\nimport Register from \"./Register\";\nimport Main from \"./Main\";\nimport AddPlacePopup from \"./AddPlacePopup\";\nimport ImagePopup from \"./ImagePopup\";\nimport EditProfilePopup from \"./EditProfilePopup\";\nimport EditAvatarPopup from \"./EditAvatarPopup\";\nimport InfoToolTip from \"./InfoToolTip\";\nimport * as auth from \"../api/Auth\";\nimport { api } from \"../api/Api\";\n\nimport { CurrentUserContext } from \"../contexts/CurrentUserContext\";\n\nfunction App() {\n  const [isProfilePopupOpen, setIsProfilePopupOpen] = React.useState(false);\n  const [isPlacePopupOpen, setIsPlacePopupOpen] = React.useState(false);\n  const [isAvatarPopupOpen, setIsAvatarPopupOpen] = React.useState(false);\n  const [isPopupInfo, setIsPopupInfo] = React.useState(false);\n  const [selectedCard, setSelectedCard] = React.useState({ isOpen: false });\n\n  const [infoData, setInfoData] = useState({\n    title: \"Что-то пошло не так! Попробуйте ещё раз.\",\n    icon: false,\n  });\n\n  const [userData, setUserData] = useState({\n    email: \"\",\n  });\n\n  const [loggedIn, setLoggedIn] = useState(false);\n\n  const history = useHistory();\n\n  React.useEffect(() => {\n    if (loggedIn) {\n      history.push(\"/\");\n    }\n  }, [loggedIn]);\n\n  const [currentUser, setCurrentUser] = React.useState({});\n  const [cards, setCards] = React.useState([]);\n\n  React.useEffect(() => {\n    tokenCheck();\n  }, []);\n\n  function handleProfile() {\n    setIsProfilePopupOpen(true);\n  }\n\n  function handlePlace() {\n    setIsPlacePopupOpen(true);\n  }\n\n  function handleAvatar() {\n    setIsAvatarPopupOpen(true);\n  }\n\n  function handleInfo() {\n    setIsPopupInfo(true);\n  }\n\n  function handleCard(card) {\n    setSelectedCard({\n      isOpen: true,\n      link: card.link,\n      title: card.name,\n      alt: card.alt,\n    });\n  }\n\n  function setupCards(cards) {\n    setCards(\n      cards.map((item) => ({\n        _id: item._id,\n        link: item.link,\n        name: item.name,\n        owner: item.owner,\n        likes: item.likes,\n      }))\n    );\n  }\n\n  function handleUpdateUser({ name, description }) {\n    api\n      .editProfile({ name, description })\n      .then((result) => {\n        setCurrentUser(result);\n        closeAllPopups();\n      })\n      .catch((err) => console.log(`Error ${err}`));\n  }\n\n  function handleCardLike(card) {\n    const isLiked = card.likes.some((i) => i._id === currentUser._id);\n    // Отправляем запрос в API и получаем обновлённые данные карточки\n    api\n      .changeLikeCardStatus(card._id, !isLiked)\n      .then((newCard) => {\n        // Формируем новый массив на основе имеющегося, подставляя в него новую карточку\n        const newCards = cards.map((c) => (c._id === card._id ? newCard : c));\n\n        setCards(newCards);\n      })\n      .catch((err) => console.log(`Error ${err}`));\n  }\n\n  function handleCardDelete(card) {\n    api\n      .deleteCard(card._id)\n      .then(() => {\n        const newCards = cards.filter((c) => c._id !== card._id);\n\n        setCards(newCards);\n      })\n      .catch((err) => console.log(`Error ${err}`));\n  }\n\n  const handleLogin = (email, password) => {\n    auth\n      .authorize(email, password)\n      .then(handleResponse)\n      .catch((err) => console.log(err));\n  };\n\n  const handleLogout = () => {\n    localStorage.removeItem(\"token\");\n    setUserData({email: ''});\n    setLoggedIn(false);\n  };\n\n  const handleResponse = (data) => {\n    auth\n      .getContent(data.token)\n      .then((res) => {\n        setUserData({ email: res.data.email });\n      })\n      .catch((err) => console.log(err));\n\n    localStorage.setItem(\"token\", data.token);\n\n    setLoggedIn(true);\n  };\n\n  const handleRegister = (password, email) => {\n    auth\n      .register(password, email)\n      .then(() => {\n        history.push(\"/sign-in\");\n        setInfoData({ icon: true, title: \"Вы успешно зарегистрировались!\" });\n        handleInfo();\n      })\n      .catch(() => {\n        setInfoData({\n          icon: false,\n          title: \"Что-то пошло не так! Попробуйте ещё раз.\",\n        });\n        handleInfo();\n      });\n  };\n\n  const tokenCheck = () => {\n    const token = localStorage.getItem(\"token\");\n    if (token) {\n      auth\n        .getContent(token)\n        .then((res) => {\n          if (res) {\n            setUserData({ email: res.data.email });\n            setLoggedIn(true);\n          }\n        })\n        .catch((err) => console.log(err));\n    }\n  };\n\n  function handleUpdateAvatar({ link }) {\n    api\n      .editAvatar({ link })\n      .then((result) => {\n        setCurrentUser(result);\n        closeAllPopups();\n      })\n      .catch((err) => console.log(`Error ${err}`));\n  }\n\n  function handleAddPlaceSubmit({ name, link }) {\n    api\n      .addNewCard({ name, link })\n      .then((newCard) => {\n        setCards([newCard, ...cards]);\n        closeAllPopups();\n      })\n      .catch((err) => console.log(`Error ${err}`));\n  }\n\n  function closeAllPopups() {\n    setIsProfilePopupOpen(false);\n    setIsPlacePopupOpen(false);\n    setIsAvatarPopupOpen(false);\n    setIsPopupInfo(false);\n    setSelectedCard({ isOpen: false });\n  }\n\n  React.useEffect(() => {\n    const promises = [api.getUserInfo(), api.getInitialCards()];\n\n    Promise.all(promises)\n      .then((results) => {\n        setCurrentUser(results[0]);\n        setupCards(results[1]);\n      })\n      .catch((err) => console.log(`Error ${err}`));\n  }, []);\n\n  return (\n    <CurrentUserContext.Provider value={currentUser}>\n      <div className=\"page\">\n        <Header handleLogout={handleLogout} email={userData.email} />\n        <Switch>\n          <ProtectedRoute\n            exact\n            path=\"/\"\n            loggedIn={loggedIn}\n            onEditProfile={handleProfile}\n            onAddPlace={handlePlace}\n            onEditAvatar={handleAvatar}\n            onCardClick={handleCard}\n            cards={cards}\n            onCardLike={handleCardLike}\n            onCardDelete={handleCardDelete}\n            component={Main}\n          />\n          <Route path=\"/sign-in\">\n            <Login handleLogin={handleLogin} />\n          </Route>\n          <Route path=\"/sign-up\">\n            <Register handleRegister={handleRegister} />\n          </Route>\n          <Route exact path=\"/\">\n            {loggedIn ? <Redirect to=\"/\" /> : <Redirect to=\"/sign-in\" />}\n          </Route>\n        </Switch>\n        <Footer />\n\n        <EditProfilePopup\n          isOpen={isProfilePopupOpen}\n          onClose={closeAllPopups}\n          onUpdateUser={handleUpdateUser}\n        />\n\n        <AddPlacePopup\n          isOpen={isPlacePopupOpen}\n          onClose={closeAllPopups}\n          onAddPlace={handleAddPlaceSubmit}\n        />\n\n        <InfoToolTip\n          isOpen={isPopupInfo}\n          onClose={closeAllPopups}\n          title={infoData.title}\n          icon={infoData.icon}\n        />\n\n        <EditAvatarPopup\n          isOpen={isAvatarPopupOpen}\n          onClose={closeAllPopups}\n          onUpdateAvatar={handleUpdateAvatar}\n        />\n\n        <ImagePopup\n          link={selectedCard.link}\n          title={selectedCard.title}\n          isOpen={selectedCard.isOpen}\n          alt={selectedCard.alt}\n          onClose={closeAllPopups}\n        />\n      </div>\n    </CurrentUserContext.Provider>\n  );\n}\n\nexport default App;\n","import React from \"react\";\nimport ReactDOM from \"react-dom\";\nimport { BrowserRouter } from \"react-router-dom\";\nimport \"./index.css\";\nimport App from \"./components/App\";\n\nReactDOM.render(\n  <React.StrictMode>\n    <BrowserRouter>\n      <App />\n    </BrowserRouter>\n  </React.StrictMode>,\n  document.getElementById(\"root\")\n);\n"],"sourceRoot":""}